<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
	<script type="text/javascript" src="../js/ajax.js"></script>
	<script type="text/javascript">
		function toServer(){//서버페이지(데이터를 출력하는 페이지) 요청
			//Eclipse Marketplace ===> webclipse
			//sendRequest(url, params, callback, method)
			var params= "username="+document.f.username.value;//gildong=
			sendRequest("hello.jsp", params, fromServer, "POST")
		}
		function fromServer(){//콜백함수(요청된 데이터에 대한 응답처리)
			if(xhr.readyState==4){//데이터를 전체 얻어온 상태
				if(xhr.status==200){//서버응답이 정상인 상태
					var msg = xhr.responseText;//서버가 출력한 데이터 얻기!!
					//alert(msg);
					var p1 = document.getElementById("p1");
					alert(p1.innerHTML);
				}else{//404,500.....
					alert('서버에러: '+xhr.status);
				}
			}
		}
	</script>
</head>
<!-- hello.html -->
<body>
	<h3>Ajax테스트(서버데이터 요청!!)</h3>
	<form name="f">
		이름: <input type="text" name="username">
		<br><input type="button" value="요청" onclick="toServer()">
	</form>
	<p id="p1"><strong>Ajax안녕~!!</strong></p>
</body>
</html>